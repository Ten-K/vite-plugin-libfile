"use strict";var v=Object.create;var d=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var P=(e,i,o,n)=>{if(i&&typeof i=="object"||typeof i=="function")for(let t of y(i))!w.call(e,t)&&t!==o&&d(e,t,{get:()=>i[t],enumerable:!(n=b(i,t))||n.enumerable});return e};var C=(e,i,o)=>(o=e!=null?v(h(e)):{},P(i||!e||!e.__esModule?d(o,"default",{value:e,enumerable:!0}):o,e));var f=C(require("fs")),p=require("path"),r;module.exports=function(i){return{name:"lib-file",apply:"build",enforce:"post",configResolved(o){r=o},writeBundle(o,n){if(!i){console.warn("must have at least one parameter.");return}if(!r.build||!r.build.lib){console.warn("vite-plugin-lifile only works in lib mode.");return}if(o.format!=="es")return;let t=Object.keys(n),u=t.filter(l=>i.paths.includes(l));if(!u.length){console.info("No specified file is found");return}for(let l of t){if(!n[l].isEntry)continue;let m=r.build.outDir||"dist",a=(0,p.resolve)(r.root,m,l),g=f.default.readFileSync(a,{encoding:"utf8"}),s="";u.forEach(c=>{s?s+=`import './${c}';
`:s=`import './${c}';
`}),f.default.writeFileSync(a,`${s}
${g}`)}}}};module.exports.default=module.exports;
